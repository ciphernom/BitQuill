(()=>{"use strict";var t={567:(t,e,n)=>{t.exports=n.p+"0fbe6e64cb78ca0ccf55.wasm"}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var _=e[r]={exports:{}};return t[r](_,_.exports,n),_.exports}let r;function o(t){const e=r.__externref_table_alloc();return r.__wbindgen_export_2.set(e,t),e}function _(t,e){try{return t.apply(this,e)}catch(t){const e=o(t);r.__wbindgen_exn_store(e)}}n.m=t,n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&"SCRIPT"===e.currentScript.tagName.toUpperCase()&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var o=r.length-1;o>-1&&(!t||!/^http(s?):/.test(t));)t=r[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),n.b=self.location+"";const i="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&i.decode();let c=null;function s(){return null!==c&&0!==c.byteLength||(c=new Uint8Array(r.memory.buffer)),c}function a(t,e){return t>>>=0,i.decode(s().subarray(t,t+e))}function f(t){return null==t}function u(t){const e=typeof t;if("number"==e||"boolean"==e||null==t)return`${t}`;if("string"==e)return`"${t}"`;if("symbol"==e){const e=t.description;return null==e?"Symbol":`Symbol(${e})`}if("function"==e){const e=t.name;return"string"==typeof e&&e.length>0?`Function(${e})`:"Function"}if(Array.isArray(t)){const e=t.length;let n="[";e>0&&(n+=u(t[0]));for(let r=1;r<e;r++)n+=", "+u(t[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(!(n&&n.length>1))return toString.call(t);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(t)+")"}catch(t){return"Object"}return t instanceof Error?`${t.name}: ${t.message}\n${t.stack}`:r}let l=0;const b="undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},g="function"==typeof b.encodeInto?function(t,e){return b.encodeInto(t,e)}:function(t,e){const n=b.encode(t);return e.set(n),{read:t.length,written:n.length}};function w(t,e,n){if(void 0===n){const n=b.encode(t),r=e(n.length,1)>>>0;return s().subarray(r,r+n.length).set(n),l=n.length,r}let r=t.length,o=e(r,1)>>>0;const _=s();let i=0;for(;i<r;i++){const e=t.charCodeAt(i);if(e>127)break;_[o+i]=e}if(i!==r){0!==i&&(t=t.slice(i)),o=n(o,r,r=i+3*t.length,1)>>>0;const e=s().subarray(o+i,o+r);i+=g(t,e).written,o=n(o,r,i,1)>>>0}return l=i,o}let d=null;function p(){return(null===d||!0===d.buffer.detached||void 0===d.buffer.detached&&d.buffer!==r.memory.buffer)&&(d=new DataView(r.memory.buffer)),d}function y(t){const e=r.__wbindgen_export_2.get(t);return r.__externref_table_dealloc(t),e}const h="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_vdfcomputer_free(t>>>0,1));class m{static __wrap(t){t>>>=0;const e=Object.create(m.prototype);return e.__wbg_ptr=t,h.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,h.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_vdfcomputer_free(t,0)}constructor(){const t=r.vdfcomputer_new();return this.__wbg_ptr=t>>>0,h.register(this,this.__wbg_ptr,this),this}static with_modulus(t){const e=w(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=l,o=r.vdfcomputer_with_modulus(e,n);if(o[2])throw y(o[1]);return m.__wrap(o[0])}compute_proof(t,e,n){const _=w(t,r.__wbindgen_malloc,r.__wbindgen_realloc),i=l,c=r.vdfcomputer_compute_proof(this.__wbg_ptr,_,i,e,f(n)?0:o(n));if(c[2])throw y(c[1]);return x.__wrap(c[0])}verify_proof(t,e){const n=w(t,r.__wbindgen_malloc,r.__wbindgen_realloc),o=l;!function(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`)}(e,x);const _=r.vdfcomputer_verify_proof(this.__wbg_ptr,n,o,e.__wbg_ptr);if(_[2])throw y(_[1]);return 0!==_[0]}estimate_iterations_for_seconds(t){const e=r.vdfcomputer_estimate_iterations_for_seconds(this.__wbg_ptr,t);return BigInt.asUintN(64,e)}}const v="undefined"==typeof FinalizationRegistry?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>r.__wbg_vdfproof_free(t>>>0,1));class x{static __wrap(t){t>>>=0;const e=Object.create(x.prototype);return e.__wbg_ptr=t,v.register(e,e.__wbg_ptr,e),e}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,v.unregister(this),t}free(){const t=this.__destroy_into_raw();r.__wbg_vdfproof_free(t,0)}constructor(t,e,n,o,_){const i=w(t,r.__wbindgen_malloc,r.__wbindgen_realloc),c=l,s=w(e,r.__wbindgen_malloc,r.__wbindgen_realloc),a=l,f=w(n,r.__wbindgen_malloc,r.__wbindgen_realloc),u=l,b=w(o,r.__wbindgen_malloc,r.__wbindgen_realloc),g=l,d=r.vdfproof_new(i,c,s,a,f,u,b,g,_);return this.__wbg_ptr=d>>>0,v.register(this,this.__wbg_ptr,this),this}get y(){let t,e;try{const n=r.vdfproof_y(this.__wbg_ptr);return t=n[0],e=n[1],a(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}get pi(){let t,e;try{const n=r.vdfproof_pi(this.__wbg_ptr);return t=n[0],e=n[1],a(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}get l(){let t,e;try{const n=r.vdfproof_l(this.__wbg_ptr);return t=n[0],e=n[1],a(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}get r(){let t,e;try{const n=r.vdfproof_r(this.__wbg_ptr);return t=n[0],e=n[1],a(n[0],n[1])}finally{r.__wbindgen_free(t,e,1)}}get iterations(){const t=r.vdfproof_iterations(this.__wbg_ptr);return BigInt.asUintN(64,t)}to_json(){let t,e;try{const _=r.vdfproof_to_json(this.__wbg_ptr);var n=_[0],o=_[1];if(_[3])throw n=0,o=0,y(_[2]);return t=n,e=o,a(n,o)}finally{r.__wbindgen_free(t,e,1)}}static from_json(t){const e=w(t,r.__wbindgen_malloc,r.__wbindgen_realloc),n=l,o=r.vdfproof_from_json(e,n);if(o[2])throw y(o[1]);return x.__wrap(o[0])}}function S(){const t={wbg:{}};return t.wbg.__wbg_buffer_609cc3eee51ed158=function(t){return t.buffer},t.wbg.__wbg_call_672a4d21634d4a24=function(){return _(function(t,e){return t.call(e)},arguments)},t.wbg.__wbg_call_7cccdd69e0791ae2=function(){return _(function(t,e,n){return t.call(e,n)},arguments)},t.wbg.__wbg_crypto_574e78ad8b13b65f=function(t){return t.crypto},t.wbg.__wbg_getRandomValues_b8f5dbd5f3995a9e=function(){return _(function(t,e){t.getRandomValues(e)},arguments)},t.wbg.__wbg_log_5b9c4377e97c70b5=function(t,e){console.log(a(t,e))},t.wbg.__wbg_msCrypto_a61aeb35a24c1329=function(t){return t.msCrypto},t.wbg.__wbg_new_a12002a7f91c75be=function(t){return new Uint8Array(t)},t.wbg.__wbg_newnoargs_105ed471475aaf50=function(t,e){return new Function(a(t,e))},t.wbg.__wbg_newwithbyteoffsetandlength_d97e637ebe145a9a=function(t,e,n){return new Uint8Array(t,e>>>0,n>>>0)},t.wbg.__wbg_newwithlength_a381634e90c276d4=function(t){return new Uint8Array(t>>>0)},t.wbg.__wbg_node_905d3e251edff8a2=function(t){return t.node},t.wbg.__wbg_now_807e54c39636c349=function(){return Date.now()},t.wbg.__wbg_process_dc0fbacc7c1c06f7=function(t){return t.process},t.wbg.__wbg_randomFillSync_ac0988aba3254290=function(){return _(function(t,e){t.randomFillSync(e)},arguments)},t.wbg.__wbg_require_60cc747a6bc5215a=function(){return _(function(){return module.require},arguments)},t.wbg.__wbg_set_65595bdd868b3009=function(t,e,n){t.set(e,n>>>0)},t.wbg.__wbg_static_accessor_GLOBAL_88a902d13a557d07=function(){const t="undefined"==typeof global?null:global;return f(t)?0:o(t)},t.wbg.__wbg_static_accessor_GLOBAL_THIS_56578be7e9f832b0=function(){const t="undefined"==typeof globalThis?null:globalThis;return f(t)?0:o(t)},t.wbg.__wbg_static_accessor_SELF_37c5d418e4bf5819=function(){const t="undefined"==typeof self?null:self;return f(t)?0:o(t)},t.wbg.__wbg_static_accessor_WINDOW_5de37043a91a9c40=function(){const t="undefined"==typeof window?null:window;return f(t)?0:o(t)},t.wbg.__wbg_subarray_aa9065fa9dc5df96=function(t,e,n){return t.subarray(e>>>0,n>>>0)},t.wbg.__wbg_versions_c01dfd4722a88165=function(t){return t.versions},t.wbg.__wbg_warn_1e5be50445417c8a=function(t,e){console.warn(a(t,e))},t.wbg.__wbindgen_debug_string=function(t,e){const n=w(u(e),r.__wbindgen_malloc,r.__wbindgen_realloc),o=l;p().setInt32(t+4,o,!0),p().setInt32(t+0,n,!0)},t.wbg.__wbindgen_init_externref_table=function(){const t=r.__wbindgen_export_2,e=t.grow(4);t.set(0,void 0),t.set(e+0,void 0),t.set(e+1,null),t.set(e+2,!0),t.set(e+3,!1)},t.wbg.__wbindgen_is_function=function(t){return"function"==typeof t},t.wbg.__wbindgen_is_object=function(t){return"object"==typeof t&&null!==t},t.wbg.__wbindgen_is_string=function(t){return"string"==typeof t},t.wbg.__wbindgen_is_undefined=function(t){return void 0===t},t.wbg.__wbindgen_memory=function(){return r.memory},t.wbg.__wbindgen_number_new=function(t){return t},t.wbg.__wbindgen_string_new=function(t,e){return a(t,e)},t.wbg.__wbindgen_throw=function(t,e){throw new Error(a(t,e))},t}async function j(t){if(void 0!==r)return r;void 0!==t&&(Object.getPrototypeOf(t)===Object.prototype?({module_or_path:t}=t):console.warn("using deprecated parameters for the initialization function; pass a single object instead")),void 0===t&&(t=new URL(n(567),n.b));const e=S();("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:o,module:_}=await async function(t,e){if("function"==typeof Response&&t instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(t,e)}catch(e){if("application/wasm"==t.headers.get("Content-Type"))throw e;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e)}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}(await t,e);return function(t,e){return r=t.exports,j.__wbindgen_wasm_module=e,d=null,c=null,r.__wbindgen_start(),r}(o,_)}const A=j;let O;self.onmessage=async t=>{const{command:e,input:n,iterations:r}=t.data;if("start"===e){O||(console.log("Worker: Initializing WASM..."),O=await A()),console.log(`Worker: Starting VDF computation with ${r} iterations...`);const t=new m,e=t=>{self.postMessage({status:"progress",progress:t})};try{const o=t.compute_proof(n,BigInt(r),e),_={y:o.y,pi:o.pi,l:o.l,r:o.r,iterations:o.iterations};self.postMessage({status:"complete",proof:_})}catch(t){console.error("Worker: VDF computation failed:",t),self.postMessage({status:"error",error:t.toString()})}}}})();